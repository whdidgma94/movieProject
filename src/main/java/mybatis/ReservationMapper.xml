<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.reservation">
  
  <resultMap id="reservation" type="Reservation.ReservationVO">
  <id property="reserveNo" column="reserveNo"/>
  <result property="memberId" column="memberId"/>
  <result property="screeningNo" column="screeningNo"/>
  <result property="seatNumber" column="seatNumber"/>
</resultMap>
  
  <select id="getAllReservation" resultMap="reservation">
  SELECT * FROM reservation
</select>
  
    <select id="userLogin" parameterType="user" resultType="String">
        select userid from user where userid=#{userid} and pwd=#{pwd}       
    </select>
    
       <select id="validId" resultType="String" parameterType="String">
        select userid from user where userid=#{userid}        
    </select>
    
    	<select id="getOneUser" parameterType="String" resultMap="user">
    	 SELECT * FROM user where userid=#{userid} 
    	</select>
    
        <insert id="userInsert" parameterType="user">
        INSERT INTO user (name, userid, pwd, email, phone)
       VALUES(
        #{name},
        #{userid},
        #{pwd},
        #{email},
        #{phone}
        )       
    </insert>
    
     <update id="userUpdate" parameterType="user">
         update user
         set email=#{email}, phone=#{phone} 
         where userid=#{userid} 	 
    </update>
    
      <delete id="userDelete" parameterType="String">  
        delete from user where userid=#{userid} 
    </delete>
    
</mapper>